## 一、实验项目名称
### 数组、指针与字符串

## 二、实验目的

1.学习使用数组数据对象；

2.学习字符串数据的组织和处理；

3.学习标准C++库的使用；

4.掌握指针的使用方法；

5.练习通过debug观察指针的内容及其所指的对象的内容；

6.练习通过动态内存分配实现动态数组，并体会指针在其中的作用；

7.分别使用字符数组和标准C++库练习处理字符串的方法。

## 三、实验任务
1.编写并测试3×3矩阵转置函数，使用数组保存3×3矩阵。

2.使用动态内存分配生成动态数组来重新完成上题，使用指针实现函数的功能。

3.编程实现两字符串的连接。要求使用字符数组保存字符串，不要使用系统函数。

4.使用string类声明字符串对象，重新实现上一小题。

5.声明一个Employee类，其中包括姓名、街道地址、城市和邮编等属性，以及change_name()和display()等函数。display()显示姓名、街道地址、城市和邮编等属性，change_name()改变对象的姓名属性，实现并测试这个类。

6.声明包含5个元素的对象数组，每个元素都是Employee类型的对象。

7.修改实验四中的选做实验中的people（人员）类。具有的属性如下：姓名char name[11]、编号char number[7]、性别char sex[3]、生日birthday、身份证号char id[16]。其中“出生日期”声明为一个“日期”类内嵌子对象。用成员函数实现对人员信息的录入和显示。要求包括：构造函数和析构函数、拷贝构造函数、内联成员函数、聚集。在测试程序中声明people类的对象数组，录入数据并显示。

## 四、主要仪器设备及耗材
计算机、Visual Studio 2010及以上

## 五、实验步骤
1.编写并测试3×3矩阵转置函数，使用数组保存3×3矩阵。

2.使用动态内存分配生成动态数组来重新完成上题，使用指针实现函数的功能。

3.编程实现两字符串的连接。要求使用字符数组保存字符串，不要使用系统函数。

4.使用string类声明字符串对象，重新实现上一小题。

5.声明一个Employee类，其中包括姓名、街道地址、城市和邮编等属性，以及change_name()和display()等函数。display()显示姓名、街道地址、城市和邮编等属性，change_name()改变对象的姓名属性，实现并测试这个类。
Employee.h

Employee.cpp

6.声明包含5个元素的对象数组，每个元素都是Employee类型的对象。

7.修改实验3中的选做实验中的people（人员）类。具有的属性如下：姓名char name[11]、编号char number[7]、性别char sex[3]、生日birthday、身份证号char id[16]。其中“出生日期”声明为一个“日期”类内嵌子对象。用成员函数实现对人员信息的录入和显示。要求包括：构造函数和析构函数、拷贝构造函数、内联成员函数、聚集。在测试程序中声明people类的对象数组，录入数据并显示。
Person.h
	
Person.cpp

birthday.h

birthday.cpp


## 六、实验数据及处理结果

图1-1,1-2  3x3矩阵及其转置矩阵

图1-3, 1-4  字符串拼接

图1-5  Employee类

图1-6 Employee类 5个元素的对象数组

图1-7-1 Person类对象数组

图1-7-2 Person类对象数组

## 七、思考讨论题或体会或对改进实验的建议（讨论记录）
**讨论题：**

**1.数组的应用场景是什么？它跟结构体的区别是什么？**

数组元素在内存中顺次存放，它们的地址是连续的。
元素间物理地址上的相邻，对应着逻辑次序上的相邻。
数组的名字是指针类型/地址类型，数组名字是数组首元素的内存地址。
一旦定义好数组后，数组名是地址类型的常量，不能再被赋值。
区别：数组是相同类型元素的集合，而结构体是不同类型元素的集合；在地址方面，数组名就是首元素地址，而结构体要再用取地址符。

**2.运算符“*”与“&”的作用？**

*乘法，也可以作解引用，取出指针指向空间中的内容；
&取地址符，也可以在定义变量时加在名字前作为引用。

**3.什么叫指针？指针中存储的地址与这个地址中的值有何区别？**

指针用来表示或存储一个存储器	地址，这个地址的值直接指向存放该地址的对象的值。
指针中存储的地址，是这个地址中的值所在的那块内存的首地址。

**4.引用和指针有何区别？何时只能使用指针而不能使用引用？**

指针是一个变量，存储一个地址，而引用和原来的变量是一样的东西，只不过是原变量的一个别名。

**5.const int * p1 与int * const p2的区别是什么？**

前者是一个指向常量的指针，常量指针，不能通过指针去修改指向对象的内容；而后者是一个const类型的指针，指针常量，表示不能修改指针本身，一旦定义以后就不能再去修改这个指针。

**6.static_cast,const_cast和reinterpret_cast各自应在哪些情况下使用？**

static_cast用于类层次结构中基类和派生类之间指针或引用的转换。

const_cast只能改变运算对象的底层const，将一个const类型去掉const，用于修改类型的const或volatile属性。

reinterpret_casts是将数据以二进制存在形式的重新解释。

**7.C语言中没有string类如何实现字符串操作？C++中的string类的优势在哪里？**

有头文件string.h可以对字符数组进行操作。
String类的对象就是一个对象，可以直接赋值给别的string类对象，而且还可以直接进行相加的操作，也有相应的各种操作函数。而且也不用考虑内存释放和越界。


**设计题：**

1.对实验4设计题第1题进行如下修改：
(1)使用字符串来表示银行账号；

(2)使用字符串对输出的账目列表中的账目增加文字说明；

(3)增加error函数报告错误信息，当其他函数需要输出错误信息时，直接把信息以字符串形式传递给该函数；

(4)使用数组把多个账户组织在一起，这样可以把需要对各个账户做的事情放在循环里，避免了代码冗余；

(5)增加日期类来Date表示，该类的数据成员包括year，month，day，totalDays(相对日期)；

相对日期具体说明如下：
为了计算日期间相差的天数，可以先选取一个比较规整的基准日期，在构造日期对象时将该日期到这个基准日期的相对天数计算出来，我们将这个相对天数称为“相对日期”。这样在计算两个日期相差的天数时，只需将二者的相对日期相减即可。
假设将公元元年1月1日作为公共的基准日期，将y年m月d日相距这一天的天数记为f(y/m/d,1/1/1)，可以将其分解为3部分:

上述公式的右边表示当年的1月1日与公元元年1月1日相距的天数；

平年每年有365天，闰年多一天，因此该值为365(y-1)加上公元元年到y-1年之间的闰年数。又由于4年一闰，100的倍数免闰，400的倍数再闰，所以有

在各平年中指定月份的1日与1月1日相差的天数可以由月份m唯一确定，因此可以把每月1日到1月1日的天数放在一个数组中，计算时只要查询该数组，便可得到f(y/m/1,y/1/1)的值；而对于闰年，仍可通过数组查询，只需在m>2时将查得的值加1；该值只依赖于x和y将它记为g(m,y)；此外：，如果把公元元年1月1日的相对日期定为1，那么元年y年m月d日的相对日期为：
；
该类的成员函数除了构造函数和用来获得年、月、日的函数外，还包括用来得到当前月的天数getMaxDay函数、用来判断当前年是否为闰年的isLeapYear函数、用来将当前日期输出的show函数、用来判断当前日期与指定日期相差天数的distance函数，这些函数都会被Date类的其他成员函数或SavingsAccount类的函数调用；

(6)将描述账号的数据类型由int改为string；

(7)为deposit，withdraw，settle三个函数都增加一个用来存储该笔账目说明信息的string型的desc参数。类图设计如图a所示：
